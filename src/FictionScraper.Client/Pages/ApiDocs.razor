@page "/docs"

@inject IJSRuntime JSRuntime
@inject IComponentContext ComponentContext

@using Microsoft.AspNetCore.Components

<iframe src="api" @ref="iframe"></iframe>

@code {
    ElementRef iframe;
    bool iFrameLoaded = false;

    protected override async Task OnAfterRenderAsync()
    {
        if (!ComponentContext.IsConnected) return;

        if (!iFrameLoaded)
        {
            iFrameLoaded = true;
            await JSRuntime.InvokeAsync<object>("doIframes", iframe);
            StateHasChanged();
        }
    }
}

<style scoped>
    iframe {
        width: 1px;
        min-width: 100%;
        border: none;
        padding: 0;
    }

    div.container-fluid {
        padding: 0;
    }
</style>
